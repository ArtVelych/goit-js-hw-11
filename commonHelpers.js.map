{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet galleryLightbox;\n\nfunction initializeLightbox() {\n  galleryLightbox = new SimpleLightbox('.image-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\ninitializeLightbox();\n\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nfunction renderPhotos(photos) {\n  gallery.innerHTML = '';\n\n  if (photos.length === 0) {\n    showErrorMessage('Sorry, there are no images matching your search query. Please try again!');\n    return;\n  }\n\n  photos.forEach(photo => {\n    const photoElement = createPhotoMarkup(photo);\n    gallery.insertAdjacentHTML('beforeend', photoElement);\n  });\n\n  refreshLightbox();\n}\n\nfunction createPhotoMarkup(photo) {\n  const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = photo;\n\n  return `<li class=\"photo\">\n    <div class=\"photo-card\">\n      <a class=\"image-link\" data-lightbox=\"image\" href=\"${largeImageURL}\">\n        <img class=\"gallery-image\" data-source=\"${largeImageURL}\"  src=\"${webformatURL}\" alt=\"${tags}\">\n      </a>\n    </div>\n    <div class=\"description\">\n      <p class=\"description-item\"> Likes ${likes}</p>\n      <p class=\"description-item\"> Views ${views}</p>\n      <p class=\"description-item\"> Comments ${comments}</p>\n      <p class=\"description-item\"> Downloads ${downloads}</p>\n    </div>\n  </li>`;\n}\n\nfunction refreshLightbox() {\n  galleryLightbox.refresh();\n}\n\nfunction showErrorMessage(message) {\n  iziToast.show({\n    message: message,\n    backgroundColor: 'red',\n    messageColor: 'white',\n    messageSize: '25',\n  });\n}\n\nexport {\n\tgalleryLightbox,\n\tloader,\n\tgallery,\n    renderPhotos,\n    showErrorMessage,\n}\n\n","import { renderPhotos, loader, gallery } from './render-functions';\n\nfunction buildApiUrl(searchQuery) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const API_KEY = '42444486-bc4896f356324bce186cf1418';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return `${BASE_URL}${END_POINT}?${params}`;\n}\n\nfunction fetchPhotos(url) {\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        setTimeout(() => {\n          renderPhotos(data.hits);\n          loader.style.display = 'none';\n          resolve(data.hits);\n        }, 1000);\n      })\n      .catch(error => {\n        console.log('Error fetching data:', error);\n        loader.style.display = 'none';\n        reject(error);\n      });\n  });\n}\n\nexport {\n\tbuildApiUrl,\n\tfetchPhotos,\n}","import * as pixabay from './js/pixabay-api';\nimport * as galleryToRender from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.form-input');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const searchQuery = searchInput.value.trim();\n\n  if (searchQuery === '') {\n    galleryToRender.showErrorMessage('Please enter a search query');\n    return;\n  }\n\n  const url = pixabay.buildApiUrl(searchQuery);\n\n    pixabay.fetchPhotos(url);\n    \n    form.reset();\n}\n\nexport {\n\tform,\n\tsearchInput,\n}"],"names":["galleryLightbox","initializeLightbox","SimpleLightbox","loader","gallery","renderPhotos","photos","showErrorMessage","photo","photoElement","createPhotoMarkup","refreshLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","message","iziToast","buildApiUrl","searchQuery","BASE_URL","END_POINT","API_KEY","params","fetchPhotos","url","resolve","reject","res","data","error","form","searchInput","onFormSubmit","e","galleryToRender.showErrorMessage","pixabay.buildApiUrl","pixabay.fetchPhotos"],"mappings":"6vBAKA,IAAIA,EAEJ,SAASC,GAAqB,CAC5BD,EAAkB,IAAIE,EAAe,cAAe,CAClD,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CAEAD,IAEA,MAAME,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,EAAaC,EAAQ,CAG5B,GAFAF,EAAQ,UAAY,GAEhBE,EAAO,SAAW,EAAG,CACvBC,EAAiB,0EAA0E,EAC3F,MACD,CAEDD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAeC,EAAkBF,CAAK,EAC5CJ,EAAQ,mBAAmB,YAAaK,CAAY,CACxD,CAAG,EAEDE,GACF,CAEA,SAASD,EAAkBF,EAAO,CAChC,KAAM,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGV,EAEjF,MAAO;AAAA;AAAA,0DAEiDK,CAAa;AAAA,kDACrBA,CAAa,WAAWD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,2CAIzDC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA,QAGxD,CAEA,SAASP,GAAkB,CACzBX,EAAgB,QAAO,CACzB,CAEA,SAASO,EAAiBY,EAAS,CACjCC,EAAS,KAAK,CACZ,QAASD,EACT,gBAAiB,MACjB,aAAc,QACd,YAAa,IACjB,CAAG,CACH,CC9DA,SAASE,EAAYC,EAAa,CAChC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,MAAO,GAAGC,CAAQ,GAAGC,CAAS,IAAIE,CAAM,EAC1C,CAEA,SAASC,EAAYC,EAAK,CACtB,OAAAzB,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAEf,IAAI,QAAQ,CAACyB,EAASC,IAAW,CACtC,MAAMF,CAAG,EACN,KAAKG,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQ,CACZ,WAAW,IAAM,CACf3B,EAAa2B,EAAK,IAAI,EACtB7B,EAAO,MAAM,QAAU,OACvB0B,EAAQG,EAAK,IAAI,CAClB,EAAE,GAAI,CACf,CAAO,EACA,MAAMC,GAAS,CACd,QAAQ,IAAI,uBAAwBA,CAAK,EACzC9B,EAAO,MAAM,QAAU,OACvB2B,EAAOG,CAAK,CACpB,CAAO,CACP,CAAG,CACH,CCjCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,aAAa,EAExDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMf,EAAca,EAAY,MAAM,KAAI,EAE1C,GAAIb,IAAgB,GAAI,CACtBgB,EAAiC,6BAA6B,EAC9D,MACD,CAED,MAAMV,EAAMW,EAAoBjB,CAAW,EAEzCkB,EAAoBZ,CAAG,EAEvBM,EAAK,MAAK,CACd"}